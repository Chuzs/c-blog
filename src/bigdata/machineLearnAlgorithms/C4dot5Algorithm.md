---
# 这是文章的标题
title: C4.5算法
# 你可以自定义封面图片
cover: /assets/images/cover2.jpg
# 这是页面的图标
icon: fa-solid fa-file-lines
# 这是侧边栏的顺序
order: 1
# 设置作者
author: Mr.Chuzs
# 设置写作时间
date: 2024-04-26
# 一个页面可以有多个分类
category:
  - 机器学习
# 一个页面可以有多个标签
tag:
  - 算法
  - 机器学习
  - 大数据
# 此页面会在文章列表置顶
sticky: false
# 此页面会出现在文章收藏中
star: true
# 你可以自定义页脚


#footer: 你走的每一步都算数
# 你可以自定义版权信息
#copyright: Copyright © 2023 Mr.Chuzs
---

`more` C4.5算法

<!-- more -->
ID3算法存在四个主要不足：一是信息增益准则对取值类别较多的特征有所偏好，二是不能处理连续特征，三是没有考虑缺失值处理，四是过拟合。
昆兰在C4.5算法中改进了这四个问题。

## 1  第一个问题的改进办法

对于第一个问题，C4.5算法采用信息增益率，做为变量的最终筛选标准。
通过引进一个和特征类别数目成正比的量作为分母，来消除这种偏好。
信息增益率公式如下：
$$
Gain_ratio(D,a)=\frac{Gain(D,a)}{IV(a)}
$$

其中，$Gain(D,a)$就是ID3算法中的信息增益，$IV(a)$就是和特征类别数目成正比的量。
$IV(a)$的具体公式如下：
$$
IV(a)=-\sum\limits_{v=1}^n\frac{|D^v|}{|D|}log_2\frac{|D^v|}{|D|}
$$
在全量样本中，特征学历有4个可能取值：{初中及以下，高中，大学，研究生及以上}，是否有房子有2个可能取值：{有，无}，信贷表现有3个可能取值：{较差，良好，非常好}。
分别看下这3个特征对应的的$IV(a)$值：
$$
\begin{aligned}
IV(学历)&=1.95 &(n=4)\\
IV(是否有房子)&=0.936 &(n=2)\\
IV(信贷表现)&=1.55 &(n=3)
\end{aligned}
$$
可以发现，特征中类别数越多，$IV$值越大，放在分母可以避免信息增益更偏好类别多特征的缺点。
但是，除以这个分母后会不会使得算法更偏向于特征类别较少的变量？
答案是：会的。
所以C4.5算法没有直接选择信息增益率最大的特征进行划分，而是先挑出信息增益高于平均水平的特征，再从中选择信息增益率最好的特征，尽可能避免类别数目对划分特征选择的影响。

## 2  第二个问题的改进办法

对于第二个问题，不能处理连续特征。C4.5的思想是将连续特征离散化。
比如一个集合中有n个样本，m个特征，m个特征中有一个连续特征A。特征A有n个取值，从小到大排列为$a_1,a_2,...,a_n$。算出相邻两个样本的平均值作为划分点，一共有n-1个划分值。
对于这n-1个点，分别计算以该点作为二元分类点时的信息增益，选择信息增益最大的点作为该连续特征的二元离散分裂点。
比如取到了信息增益最大的点为$a_u$，则小于$a_u$的值为类别1，大于$a_u$的值为类别2。从而实现了连续特征的离散化。
对于第三个问题，不能处理缺失值问题。刘建平老师的博客中有详细的阐述，感兴趣的可以自行了解。
对于第四个问题，C4.5引入了正则化系数进行初步剪枝，等到讲CART树剪枝时对比进行阐述。
虽然C4.5算法对ID3算法的几个主要问题进行了改进，但是仍然有优化的空间。
比如C4.5算法只能用于分类，不能用于回归。C4.5使用了熵模型，里面有大量的对数运算，非常耗时。
这些问题在CART树里进行了改进。
